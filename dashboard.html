<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard - Smart Crop</title>
  <link rel="stylesheet" href="css/style.css" />
  <script defer src="js/app.js"></script>
</head>

<body>
  <script>
    fetch("http://localhost:5000/configChatbase")
      .then(res => res.json())
      .then(data => {
        const chatbaseId = data.id;

        (function () {
          const onLoad = function () {
            const script = document.createElement("script");
            script.src = "https://www.chatbase.co/embed.min.js";
            script.id = chatbaseId;
            script.domain = "www.chatbase.co";
            document.body.appendChild(script);
          };
          if (document.readyState === "complete") { onLoad(); }
          else { window.addEventListener("load", onLoad); }
        })();
      });
  </script>


  <header class="navbar">
    <h1>Smart Crop Advisory</h1>
    <nav id="navbar"></nav> <!-- JS will inject links -->
  </header>

  <main class="dashboard-container">
    <h2>ðŸ“Š Farmer Dashboard</h2>

    <div class="together" style="display:flex; gap:12px; margin-bottom:14px; flex-wrap:wrap;">
      <button class="btn" onclick="location.href='field.html'">+ Add Field</button>
      <button class="btn" id="toggleDeleteBtn">Delete Mode</button>
    </div>


    <div id="fieldsGrid" class="grid">
      <!-- JS inserts field cards here -->
      <p id="loadingFields">Loading your fieldsâ€¦</p>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Smart Crop Advisory</p>
  </footer>
</body>

</html>